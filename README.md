# General Conference RAG

## Description
This repository utilizes Retrieval-Augmented Generation (RAG) for querying talks from General Conference sessions for the Church of Jesus Christ of Latter-day Saints. This scrapes talks from the Church's website, [churchofjesuschrist.org](https://churchofjesuschrist.org) (permission was obtained for this) and generates vector embeddings for each. Semantic search is then used to create embeddings for a natural language query, compare them with the previously generated embeddings, and return the closest matches. This information is then sent to ChatGPT alongside the query to give a more informed and accurate answer.

A few options are available:
- Embeddings are generated by SentenceTransformers as well as OpenAI
- Embeddings are created for entire talks, individual paragraphs, and just titles

## Setup

Install all packages with `pip install -r requirements.txt`

Create config with `cp example_config.json config.json` and populate

Populate the raw directory:
```
python3 src/scraper.py
```

Populate the embeddings directory:
```
python3 src/generate_embeddings/free_embeddings.py
python3 src/generate_embeddings/openai_embeddings.py
python3 src/generate_embeddings/clusters.py
```

## Run

Search for the most similar talks, paragraphs, or titles to natural language query:
```
python3 src/embeddings_comparer.py
```

or

Receive an informed natural language response
```
python3 src/query_processor.py
```